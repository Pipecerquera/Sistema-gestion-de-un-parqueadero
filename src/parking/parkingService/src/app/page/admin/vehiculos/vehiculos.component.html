<div class="container mt-3">
    <h2 style="color: #7a1779;">Gestión de Vehículos - ADMIN</h2>

    <!-- Formulario para agregar/editar vehículo -->
    <div class="card p-3 mb-3" style="border-color: #911590;">
        <h4>{{ editando ? 'Editar Vehículo' : 'Agregar Vehículo' }}</h4>
        <form (ngSubmit)="guardarVehiculo()">
            <div class="form-group">
                <label>Placa</label>
                <input type="text" [(ngModel)]="vehiculoForm.placa" name="placa" required class="form-control" />
            </div>
            <div class="form-group">
                <label>Tipo de Vehículo</label>
                <select [(ngModel)]="vehiculoForm.tipoVehiculo" name="tipoVehiculo" required class="form-control">
                    <option *ngFor="let tipo of tiposVehiculo" [value]="tipo">{{ tipo }}</option>
                </select>
            </div>
            <div class="form-group">
                <label>Propietario</label>
                <select [(ngModel)]="vehiculoForm.persona.id" name="personaId" required class="form-control">
                    <option *ngFor="let persona of personas" [value]="persona.id">{{ persona.fullname }}</option>
                </select>
            </div>
            <button type="submit" class="btn" [ngClass]="editando ? 'btn-warning' : 'btn-success'">
                {{ editando ? 'Actualizar' : 'Agregar' }}
            </button>
            <button type="button" class="btn btn-secondary ml-2" (click)="resetFormulario()">Cancelar</button>
        </form>
    </div>

    <!-- Tabla de vehículos -->
    <table class="table table-bordered">
        <thead style="background-color: #7a1779; color: white;">
            <tr>
                <th>ID</th>
                <th>Placa</th>
                <th>Tipo de Vehículo</th>
                <th>Propietario</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let vehiculo of vehiculos">
                <td>{{ vehiculo.id }}</td>
                <td>{{ vehiculo.placa }}</td>
                <td>{{ vehiculo.tipoVehiculo }}</td>
                <td>{{ vehiculo.personaFullname }}</td>
                <td class="options">
                    <button class="btn btn-info" (click)="editarVehiculo(vehiculo)">Editar</button>
                    <button class="btn btn-danger" (click)="eliminarVehiculo(vehiculo.id)">Eliminar</button>
                </td>
            </tr>
        </tbody>
    </table>
</div>
